<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>倒计时 - 智能社 - www.zhinengshe.com</title>
<!--[if lte IE 6]>
<script src="js/DD_belatedPNG_0.0.8a.js" type="text/javascript"></script>
    <script type="text/javascript">
        DD_belatedPNG.fix('a');
    </script>
<![endif]-->
<link href="style/zns_style.css" rel="stylesheet" type="text/css" />
</head>
<script>
	function tuDou(n){
		if(n < 10){
			return '0'+n;
		}else{
			return ''+n;
		}
	}
	window.onload = function(){
		var oFill = document.getElementById('fill_in');
		var aInput = oFill.getElementsByTagName('input');
		var oGo = document.getElementById('go');
		var oTarget = document.getElementById('target');
		var oDay = document.getElementById('day');
		var oHour = document.getElementById('hour');
		var oMin = document.getElementById('min');
		var oSec = document.getElementById('sec');
		var timer = null;
		oGo.onclick = function(){
			clearInterval(timer);
			//输入时间
			var Y = aInput[0].value;
			var M = aInput[1].value;
			var D = aInput[2].value;
			oTarget.innerHTML = '现在距离 - <strong>'+ Y + '年' + M + '月' + D +'日</strong> - 还剩：';
			//获取输入时间
			var time1 = new Date();
			time1.setFullYear(tuDou(Y),tuDou(M-1),tuDou(D));
			time1.setHours(0,0,0,0);
			//输入时间距离1970年的时间 -秒
			var showtime1 = parseInt(time1.getTime()/1000);
			//获取当前时间			
			function show(){					
				var now = new Date();
				var nowTime = parseInt(now.getTime()/1000);
				var s =  showtime1 - nowTime;
				var d = parseInt(s / 86400);
				s%= 86400;
				var h = parseInt(s / 3600);
				s%= 3600;
				var m = parseInt(s / 60);
				s%= 60;					
				oDay.innerHTML = tuDou(d);
				oHour.innerHTML = tuDou(h);
				oMin.innerHTML = tuDou(m);
				oSec.innerHTML = tuDou(s); 
			}
			show();
			timer = setInterval(show,1000)
		}
	}
</script>
<body>

<div id="zhinengshe">
    <div id="fill_in">
        <span class="title">请输入：</span>
        <input type="text" class="long_text" value="2014" />
        <span class="space1">年</span>
        <input type="text" class="text" value="12" />
        <span class="space2">月</span>
        <input type="text" class="text" value="25" />
        <span class="space3">日</span>
    </div>

    <a href="javascript:;" id="go" class="go"></a>

    <p id="target">
   	现在距离 -
        <strong>2013年12月25日</strong>
        - 还剩：
    </p>

    <div id="date">
        <p id="day">00</p>
        <p id="hour">00</p>
        <p id="min">00</p>
        <p id="sec">00</p>
    </div>

    <h1 title="智能社-www.zhinengshe.com"><a href="http://www.zhinengshe.com"></a></h1>
</div>

</body>
</html>
